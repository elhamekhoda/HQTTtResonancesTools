LibraryNames libTopEventSelectionTools libTopEventReconstructionTools libHQTTtResonancesTools libTtResonancesTools libBoostedJetTaggersLib

# http://atlas.web.cern.ch/Atlas/GROUPS/DATABASE/GroupData/GoodRunsLists/data16_13TeV/
GRLDir  GoodRunsLists
GRLFile data15_13TeV/20170619/physics_25ns_21.0.19.xml  data16_13TeV/20180129/physics_25ns_21.0.19.xml data17_13TeV/20171130/data17_13TeV.periodAllYear_DetStatus-v97-pro21-13_Unknown_PHYS_StandardGRL_All_Good_25ns_Triggerno17e33prim.xml 

PRWConfigFiles HQTTtResonancesTools/PRW_Zp_mc16a.root dev/AnalysisTop/PileupReweighting/user.iconnell.Top.PRW.MC16a.FS.v2/prw.merged.root
#for mc16c:
#dev/AnalysisTop/PileupReweighting/user.iconnell.Top.PRW.MC16c.FS.v2/prw.merged.root 
#for mc16d:
#dev/AnalysisTop/PileupReweighting/user.iconnell.Top.PRW.MC16d.FS.v2/prw.merged.root

PRWLumiCalcFiles GoodRunsLists/data15_13TeV/20170619/PHYS_StandardGRL_All_Good_25ns_276262-284484_OflLumi-13TeV-008.root  GoodRunsLists/data16_13TeV/20180129/PHYS_StandardGRL_All_Good_25ns_297730-311481_OflLumi-13TeV-009.root  #GoodRunsLists/data17_13TeV/20171130/physics_25ns_Triggerno17e33prim.lumicalc.OflLumi-13TeV-001.root

ElectronCollectionName Electrons
MuonCollectionName Muons
PhotonCollectionName None
TauCollectionName None
JetCollectionName AntiKt4EMTopoJets
# original xAOD without trimmed jets
LargeJetCollectionName AntiKt10LCTopoTrimmedPtFrac5SmallR20Jets
TruthLargeRJetCollectionName AntiKt10TruthTrimmedPtFrac5SmallR20Jets
LargeJetSubstructure None
#LargeJetCollectionName AntiKt10LCTopoJets
#LargeJetSubstructure Trimmer
LargeRJESJMSConfig CombMass
TrackJetCollectionName AntiKt2PV0TrackJets

TruthCollectionName TruthParticles
#TruthCollectionName None
TruthJetCollectionName AntiKt4TruthJets
TopPartonHistory ttbar
TruthBlockInfo False
PDFInfo False
IsAFII False
OutputFileSetAutoFlushZero True
#NEvents 10000

ObjectSelectionName top::ObjectLoaderTtres
OutputFormat top::TtresEventSaverFlatNtuple
OutputEvents SelectedEvents
OutputFilename output.root
PerfStats No

CalculateSF True
#Systematics All
Systematics Nominal
BTaggingWP FixedCutBEff_70

JetUncertainties_NPModel GlobalReduction
#LargeRJESUncertaintyConfig TopTagging
JetUncertainties_BunchSpacing 25ns

ElectronID TightLH
ElectronIDLoose MediumLH
MuonQuality Medium
MuonQualityLoose Loose
ElectronIsolation FixedCutTightTrackOnly
MuonIsolation FixedCutTightTrackOnly
ElectronIsolationLoose None
MuonIsolationLoose None

FakesControlRegionDoLooseMC False
OverlapRemovalLeptonDef Tight
ApplyElectronInJetSubtraction False

OverlapRemovalProcedure BoostedSlidingDRMu

DynamicKeys TtresRunHTT,TtresSavePartons,isTOPQ,TtresrunEWK,fakeLeptonSel,isSherpaW,SaveFullTruthRecord

TtresRunHTT False
TtresSavePartons True
TtresrunEWK False
isTOPQ False
fakeLeptonSel False
isSherpaW True
SaveFullTruthRecord True

########################
### basic selection with mandatory cuts for reco level
########################

SUB BASIC
INITIAL
GRL
GOODCALO
PRIVTX
# RECO_LEVEL

########################
### definition of the data periods
########################

SUB period_2015
RUN_NUMBER >= 276262
RUN_NUMBER <= 284484

SUB period_2016
RUN_NUMBER >= 297730
RUN_NUMBER <= 311481

SUB period_2017
RUN_NUMBER >= 325713
RUN_NUMBER <= 340453

########################
### offline cuts for reco-level selections
########################

SUB boosted_common
JETCLEAN LooseBad
MET > 20000
MET+MWT > 60000
JET_N 25000 >= 1
JETCLOSELEPTON_N >= 1
LARGEJETTTRESST_N 300000 >= 1
ANGULARCUTSSL >= 1
TRACKMV2C10_N 0.66 >= 1
NOBADMUON
EXAMPLEPLOTS

SUB resolved_common
JETCLEAN LooseBad
MET > 20000
MET+MWT > 60000
JET_N 25000 >= 1
JET_N 25000 >= 2
JET_N 25000 >= 3
JET_N 25000 >= 4
TRACKMV2C10_N 0.66 >= 1
LOG10_CHI2 < 0.9
NOBADMUON
EXAMPLEPLOTS

SUB single_el
EL_N 30000 >= 1
EL_N 25000 == 1
MU_N 25000 == 0

SUB single_mu
MU_N 30000 >= 1
MU_N 25000 == 1
EL_N 25000 == 0

########################
### boosted e+jets selections
########################

SELECTION bejets_2015
. BASIC
. period_2015
TRIGDEC HLT_e24_lhmedium_L1EM20VH HLT_e60_lhmedium HLT_e120_lhloose
. single_el
TRIGMATCH HLT_e24_lhmedium_L1EM20VH HLT_e60_lhmedium HLT_e120_lhloose
. boosted_common
SAVE

SELECTION bejets_2016
. BASIC
. period_2016
TRIGDEC HLT_e26_lhtight_nod0_ivarloose HLT_e60_lhmedium_nod0 HLT_e140_lhloose_nod0
. single_el
TRIGMATCH HLT_e26_lhtight_nod0_ivarloose HLT_e60_lhmedium_nod0 HLT_e140_lhloose_nod0
. boosted_common
SAVE

SELECTION bejets_2017
. BASIC
. period_2017
TRIGDEC HLT_e26_lhtight_nod0_ivarloose HLT_e60_lhmedium_nod0 HLT_e140_lhloose_nod0
. single_el
TRIGMATCH HLT_e26_lhtight_nod0_ivarloose HLT_e60_lhmedium_nod0 HLT_e140_lhloose_nod0
. boosted_common
SAVE

########################
### resolved e+jets selections
########################

SELECTION rejets_2015
. BASIC
. period_2015
TRIGDEC HLT_e24_lhmedium_L1EM20VH HLT_e60_lhmedium HLT_e120_lhloose
. single_el
TRIGMATCH HLT_e24_lhmedium_L1EM20VH HLT_e60_lhmedium HLT_e120_lhloose
. resolved_common
SAVE

SELECTION rejets_2016
. BASIC
. period_2016
TRIGDEC HLT_e26_lhtight_nod0_ivarloose HLT_e60_lhmedium_nod0 HLT_e140_lhloose_nod0
. single_el
TRIGMATCH HLT_e26_lhtight_nod0_ivarloose HLT_e60_lhmedium_nod0 HLT_e140_lhloose_nod0
. resolved_common
SAVE

SELECTION rejets_2017
. BASIC
. period_2017
TRIGDEC HLT_e26_lhtight_nod0_ivarloose HLT_e60_lhmedium_nod0 HLT_e140_lhloose_nod0
. single_el
TRIGMATCH HLT_e26_lhtight_nod0_ivarloose HLT_e60_lhmedium_nod0 HLT_e140_lhloose_nod0
. resolved_common
SAVE

########################
### boosted mu+jets selections
########################

SELECTION bmujets_2015
. BASIC
. period_2015
TRIGDEC HLT_mu20_iloose_L1MU15 HLT_mu50 
. single_mu
TRIGMATCH HLT_mu20_iloose_L1MU15 HLT_mu50
. boosted_common
SAVE

SELECTION bmujets_2016
. BASIC
. period_2016
TRIGDEC HLT_mu26_ivarmedium HLT_mu50 
. single_mu
TRIGMATCH HLT_mu26_ivarmedium HLT_mu50
. boosted_common
SAVE

SELECTION bmujets_2017
. BASIC
. period_2017
TRIGDEC HLT_mu26_ivarmedium HLT_mu50 
. single_mu
TRIGMATCH HLT_mu26_ivarmedium HLT_mu50
. boosted_common
SAVE

########################
### resolved mu+jets selections
########################

SELECTION rmujets_2015
. BASIC
. period_2015
TRIGDEC HLT_mu20_iloose_L1MU15 HLT_mu50 
. single_mu
TRIGMATCH HLT_mu20_iloose_L1MU15 HLT_mu50
. resolved_common
SAVE

SELECTION rmujets_2016
. BASIC
. period_2016
TRIGDEC HLT_mu26_ivarmedium HLT_mu50 
. single_mu
TRIGMATCH HLT_mu26_ivarmedium HLT_mu50
. resolved_common
SAVE

SELECTION rmujets_2017
. BASIC
. period_2017
TRIGDEC HLT_mu26_ivarmedium HLT_mu50 
. single_mu
TRIGMATCH HLT_mu26_ivarmedium HLT_mu50
. resolved_common
SAVE